<!DOCTYPE html>
  <html>
      <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css?family=Handlee" rel="stylesheet">
      <!--Import materialize.css-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
      <link rel="stylesheet" href="css/style.css"

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>

    <body id="profileback">
      <div id="vue-profile">
        <nav class="teal lighten-1 fixed" role="navigation">
          <div class="nav-wrapper container">
            <a id="logo-container" href="/" class="brand-logo">Ssi</a>
            <div class="right-align">
              <button class="btn waves-effect waves-green" v-on:click="logout">Logout</button>
            </div>
          </div>
        </nav>
        <div class="row">
          <div class="col s3 light-green lighten-4" id="basic-info">
              <!-- This is where the users logo will appear when chosen during registration...should we include a button for the user to change their avatar at any time? -->
              <div class="col s6">
                <img class="responsive-img circle section" v-bind:src="user.image">
              </div>
              <br>
            <div class="center-align">
                <h4>{{ user.username }}</h4>
                <h5>{{ user.firstName }} {{ user.lastName }}</h5>
              </div>
          </div>
          <div id="modal2" class="modal">
            <form id="profile-form" v-on:submit.prevent="handleSubmit">
            <div class="modal-content">
              <p>Rank how much you enjoy doing these activities on a scale from 1 (least) - 5 (most).</p>
              <div class="row">
                  <div class="input-field col s12">
                      <select>
                          <option value="" disabled selected>Cooking</option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                      </select>
                  </div>
              <div class="input-field col s12">
                      <select>
                          <option value="" disabled selected>Reading</option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                      </select>
                  </div>
              <div class="input-field col s12">
                      <select>
                          <option value="" disabled selected>Exercising</option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                      </select>
                  </div>
              <div class="input-field col s12">
                      <select>
                          <option value="" disabled selected>Video Games</option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                      </select>
                  </div>
              <div class="input-field col s12">
                      <select>
                          <option value="" disabled selected>Drawing</option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                      </select>
                  </div>
              </div>
              </div>
              <div class="modal-footer">
                  <button type="submit" class="btn waves-effect waves-green btn-flat">Submit</button>
              </div>
          </form>
        </div>

          <section class="col s9 full-width" id="penpal">
            <div class="col s12 m8">
              <div class="card-panel grey lighten-5 z-depth-1">
                <div class="row valign-wrapper">
                  <div class="col s2">
                    <a href="letters">
                      <img src="images/penavatar.jpg" alt="" class="circle responsive-img">
                    </a> 
                  </div>
                  <div class="col s10">
                    <span class="black-text">
                      <p>Welcome {{ user.username }}!</p>
                      <div v-if="!hasInterests">
                        <p><i>Looks like you haven't completed your profile...</i></p>
                        <a class="waves-effect waves-light btn modal-trigger center-align" data-target="modal2">Add Interests</a>
                      </div>
                      <div v-if="!userMatch">
                      <p>Profile is complete!</p>
                      <button class="waves-effect waves-light btn" v-on:click="findMatch">Find my Penpal</button>
                      </div>
                      <div v-if="userMatch">
                        <a class="waves-effect waves-light btn" href="letters">Write a Letter</a>
                      </div>
                    </span>
                    <p>{{ errorMessage }} </p>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <div v-if="userMatch">
          <section class="col s9 full-width" id="penpal">
            <h5 id="match-text">Your Match:</h5>
              <div class="col s12 m8">
                <div class="card-panel grey lighten-5 z-depth-1">
                  <div class="row valign-wrapper">
                    <div class="col s2">
                      <a href="letters">
                        <img v-bind:src="userMatch.image" alt="" class="circle responsive-img">
                      </a> 
                    </div>
                    <div class="col s10">
                      <span class="black-text">
                        <h5>{{ userMatch.firstName }} {{ userMatch.lastName }} </h5>
                        <p>{{ userMatch.username }} </p>
                      </span>
                      
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>


      <!--JavaScript at end of body for optimized loading-->
      <script src="https://code.jquery.com/jquery.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
      <!--Vue & Axios Scripts-->
      <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
      <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
      
       <script src="js/profile.js"></script>
    </body>
  </html>
        